doctype html
html(lang='en')
    include ./includes/htmlhead
    body.white.flow-text
        include ./includes/nav
        ul#contacts.hide
            if persons
                each person in persons
                    div.contact
                        div.contact-name= person.name
                        div.contact-email= person.email
        main
            .row.margin-t-2
                .col.s10.offset-s1.m8.offset-m2.l6.offset-l3
                    h5.blue-grey-text.text-accent-3 Ok, so you want to organize an event...
            .row
                form.col.s10.offset-s1.m8.offset-m2.l8.offset-l2
                    label(for="name-event").teal-text.text-accent-4 What name should we give to the event?
                    input#name-event.event-input(type="text", name="name-event", placeholder="Type the event's name here")

                    // following events inspired by http://eventmanagement.com/events/types-of-events/
                    - var eventTypes = ["Annual Shareholder Meeting", "Award Ceremonie", "Birthday", "Board Meeting", "Business Dinner", "Conference", "Executive Retreat", "Family Event", "Friend Gathering", "Golf Event", "Incentive Event", "Incentive Travel", "Meeting", "Networking Event", "Opening Ceremonie", "Press Conference", "Product Launch", "Seminar", "Team Building Event", "Theme Party", "Trade Fair", "Trade Show", "Vip Event", "Wedding Anniversarie", "Wedding"];
                    label(for="type-event").teal-text.text-accent-4 What type of event is it?
                    input#type-event.event-input(list="type-event", name="type-event", placeholder="Birthday party, Conference, etc.")
                    datalist#type-event-list
                        each event in eventTypes
                            option(value= event)

                    label(for="host-event").teal-text.text-accent-4 Who is hosting this event?
                    input#host-event.event-input(type="text", name="host-event", placeholder="Type the host's name here")
                    br
                    small Provide contact information below
                    .margin-t-1
                    .input-field.col.s12.m12.l4
                        i.material-icons.prefix.teal-text.text-accent-4 phone
                        input#tel-event.event-input.validate(type='tel', placeholder='Telephone')
                    .input-field.col.s12.m12.l4
                        i.material-icons.prefix.teal-text.text-accent-4 mail
                        input#mail-event.event-input.validate(type='email', placeholder='Email')
                    .input-field.col.s12.m12.l4
                        i.material-icons.prefix.teal-text.text-accent-4 link
                        input#link-event.event-input.validate(type='url', placeholder='Website or event\'s link')
                        
                    label#lab-guests(for="guests-event").teal-text.text-accent-4 Who should we invite?
                    input#guests-event.event-input(type="text", name="guests-event", placeholder="Enter email addresses or contacts")

                    label(for="place-event").teal-text.text-accent-4 Where is the event taking place?
                    input#place-event.event-input(type="text", name="place-event", placeholder="Enter location, full address, or else")

                    
                    .row.margin-t-2
                        h5.label.teal-text.text-accent-4 When does the event start?
                        .col.s6
                            input#startdate-event.event-input(type="date", placeholder="Pick a date").datepicker
                        .col.s6
                            input#starttime-event.event-input(type="time", placeholder="Pick a time").timepicker
                    
                    .row
                        h5.label.teal-text.text-accent-4 When does the event end?
                        .col.s6
                            input#enddate-event.event-input(type="date", placeholder="Pick a date").datepicker
                        .col.s6
                            input#endtime-event.event-input(type="time", placeholder="Pick a time").timepicker
                    
                    label(for="details-event").teal-text.text-accent-4 What other information your guests should know?
                    textarea#details-event.event-input.materialize-textarea(name="details-event", placeholder="Type information your guests should know before the event.\nStick to the essential.")

                    button#create-account.btn.green.accent-4.waves-effect.waves-light.margin-t-2.em0p7(type='submit', name='action', disabled, onclick='')
                      | Create My Event
                      i.material-icons.right send
    script.
        setTimeout(function() {window.history.pushState({},'testing', '/event');}, 4);
    script(src="bower_components/localforage/dist/localforage.min.js")
    script.
        var currentEvent = {};
        var currentElem = '';
           var submitEvent = function() {
                $('.event-input').each(function() {
                    currentElem = $(this);
                    console.log(currentElem.attr('id').replace('-event', ''));
                    currentEvent[currentElem.attr('id').replace(/-event/, '')] = currentElem.val(); 
                });
                console.dir(currentElem);
                localforage.setItem('currentEvent', currentEvent).then(function () {
                      return localforage.getItem('currentEvent');
                    }).then(function (value) {
                      // we got our value
                      console.dir(value);
                    }).catch(function (err) {
                      // we got an error
                      console.log(err);
                    });
               };
        

    include ./includes/footer         
    include ./includes/htmlbottom
    script.
        setTimeout(function() {$('.selectize-control').removeClass('event-input');
        $('.selectize-dropdown').removeClass('event-input')},1000);
